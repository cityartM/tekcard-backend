import{q as N,j as s,a as y,r as w,W as A}from"./front-e1c46588.js";import{A as k,P as F}from"./playstore1-1d5423ba.js";import"./bootstrap-52c5088c.js";function I({}){const e=N().props;e.locale;const n=e.card.data;return console.log(n.reference),s.jsxs("div",{children:[s.jsx(y,{title:"Welcome"}),s.jsx("div",{className:"bg-white",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"mb-6 md:mb-12",children:s.jsx(_,{card:n})}),s.jsx("div",{className:"fixed inset-x-0 bottom-0 z-20 flex-shrink-0 bg-white border border-gray-500 rounded-t-lg drop-shadow-lg",children:s.jsxs("div",{className:"py-4 md:py-6 flex items-center justify-center gap-10",children:[s.jsx("a",{href:m.playstore.url,className:"h-10 md:h-12",children:s.jsx("img",{className:"h-full w-full object-contain",src:m.playstore.image,alt:"playstore"})}),s.jsx("a",{href:m.appstore.url,className:"h-10 md:h-12",children:s.jsx("img",{className:"h-full w-full object-contain",src:m.appstore.image,alt:"appstore"})})]})})]})})]})}const m={appstore:{url:"#",image:k},playstore:{url:"#",image:F}};function _({card:e}){const[n,c]=w.useState(!1),{data:r,setData:d,post:f,processing:E,errors:C,reset:p}=A({reference:e.reference,username:"",email:"",phone:""}),j=l=>{l.preventDefault(),f(route("register.share-card"),{preserveScroll:!0,onSuccess:()=>{p("username","email","phone")},onError:()=>{alert("Message failed to send!")}})},x=l=>{const{name:o,value:t}=l.target;d(o,t)},g=()=>{c(!1)},v=()=>{const l={name:e==null?void 0:e.full_name,phone:e==null?void 0:e.phone,email:e==null?void 0:e.email,jobTitle:e==null?void 0:e.job_title,company:e==null?void 0:e.company_name,website:e==null?void 0:e.url_web_site,address:e==null?void 0:e.address,socialMedia:e.card_apps.map(i=>{var h,b;return{name:(h=i.contact)==null?void 0:h.display_name,url:(b=i.contact)==null?void 0:b.base_url}})},o=`BEGIN:VCARD
VERSION:4.0
FN:`+l.name+`
TEL;TYPE=work,voice:`+l.phone+`
EMAIL:`+l.email+`
TITLE:`+l.jobTitle+`
ORG:`+l.company+`
URL:`+l.website+`
ADR:`+l.address+`
`+l.socialMedia.map(i=>`X-SOCIALPROFILE;TYPE=${i.name}:${i.url}`).join(`
`)+`
END:VCARD`,t=new Blob([o],{type:"text/vcard"}),a=URL.createObjectURL(t),u=document.createElement("a");u.download=`${l.name}.vcf`,u.href=a,u.click(),c(!0)};return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"h-[30vh] w-full",children:[(e==null?void 0:e.background)&&s.jsx("img",{className:"w-full h-full object-cover",src:e==null?void 0:e.background.background,alt:"cover"}),(e==null?void 0:e.color)&&s.jsx("div",{className:"w-full h-full",style:{background:e==null?void 0:e.color}})]}),s.jsxs("div",{className:"-translate-y-16 px-4 max-w-lg mx-auto",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("img",{className:"w-32 h-32 object-cover rounded-full overflow-hidden ring-4 ring-offset-2 ring-offset-slate-50 ring-sky-500 shadow-lg",src:(e==null?void 0:e.card_avatar)??"../avatar/profile.jpg",alt:"avatar"}),s.jsx("div",{className:"mt-6 text-2xl text-[#2273AF] font-bold",children:e==null?void 0:e.full_name}),s.jsx("div",{className:"text-base text-[#9CA3AF]",children:e==null?void 0:e.job_title})]}),!n&&s.jsxs("div",{children:[s.jsxs("div",{className:"mt-10",children:[s.jsxs("div",{className:"mb-2 text-base text-[#2273AF] font-bold",children:["Phone :"," ",e==null?void 0:e.phone]}),s.jsxs("div",{className:"mb-2 text-base text-[#2273AF] font-bold",children:["Email :"," ",e==null?void 0:e.email]}),s.jsxs("div",{className:"mb-2 text-base text-[#2273AF] font-bold",children:["Company :"," ",e==null?void 0:e.company_name]}),s.jsxs("div",{className:"mb-2 text-base text-[#2273AF] font-bold",children:["Web site :"," ",e==null?void 0:e.url_web_site]}),s.jsxs("div",{className:"mb-2 text-base text-[#2273AF] font-bold",children:["Address :"," ",e==null?void 0:e.address]})]}),s.jsxs("div",{className:"mt-5",children:[s.jsx("div",{className:"text-base text-[#2273AF] font-bold",children:"Social Media"}),s.jsx("div",{className:"p-4 grid grid-cols-4 gap-4",children:e==null?void 0:e.card_apps.map((l,o)=>{var t,a;return s.jsx("div",{className:"flex justify-center items-center",children:s.jsx("a",{href:(t=l.contact)==null?void 0:t.base_url,children:s.jsx("div",{className:"w-16 h-16 p-3 bg-gray-200 rounded-lg shadow",style:{background:e==null?void 0:e.color},children:s.jsx("img",{className:"w-10 h-10",src:(a=l.contact)==null?void 0:a.icon,alt:"instagram"})})})},o)})})]}),s.jsx("button",{onClick:v,className:"flex w-full justify-center rounded-md bg-[#2273AF] px-3 py-2.5 font-bold leading-6 text-white shadow-sm hover:bg-[#5191c0] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Add to contact"})]})]}),n&&s.jsxs("div",{className:"-translate-y-16 px-4 max-w-lg mx-auto",children:[s.jsx("p",{className:"mt-5 text-center text-bold text-gray-900",children:"Send your information to tekcard"}),s.jsx("form",{onSubmit:j,className:"mt-5",children:s.jsxs("div",{className:"mt-10",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"username",className:"block text-gray-700",children:"Name"}),s.jsx("input",{id:"username",name:"username",type:"text",value:r.username,onChange:x,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"email",className:"block text-gray-700",children:"Email"}),s.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:x,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"phone",className:"block text-gray-700",children:"Phone"}),s.jsx("input",{id:"phone",name:"phone",type:"text",value:r.phone,onChange:x,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-[#2273AF] px-3 py-2.5 font-bold leading-6 text-white shadow-sm hover:bg-[#5191c0] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Submit"})})]})}),s.jsx("p",{className:"mt-5 text-center text-sm text-gray-500",children:s.jsx("button",{onClick:g,className:"text-base text-[#2273AF] font-bold",children:"May be later"})})]})]})}export{I as default};
